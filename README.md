# SafaDel - 安全文件删除工具

SafaDel 是一个高性能的安全文件删除工具，它使用多种数据覆写方法来确保文件数据不可恢复。该工具支持单个文件和整个目录的安全删除，并使用并发处理来提高大型目录的处理速度。

## 特性

- 多重覆写方案：
  - DoD 5220.22-M 标准（美国国防部标准）
  - Gutmann 模式（简化版）
  - 随机数据覆写
- 安全保证：
  - 每次覆写都超出文件原始大小
  - 使用加密级随机数据
  - 多次不同模式覆写
  - 强制同步到磁盘
  - 文件名和目录名多次随机覆盖
  - 对扩展名进行混淆
- 高性能：
  - 多协程并行处理
  - 优化的缓冲区大小
  - 智能任务分配
- 用户友好：
  - 实时进度显示
  - 清晰的错误提示
  - 简单的命令行接口

## 安装

```bash
go build -o safadel.exe
```

## 使用方法

### 命令行使用
```bash
safadel <文件或目录路径>
```

### 注册到右键菜单
```bash
safadel register
```
注册后，您可以在 Windows 资源管理器中右键点击文件或文件夹，选择"安全擦除"来删除文件。

### 取消右键菜单注册
```bash
safadel unregister
```
执行此命令可以移除 Windows 资源管理器中的"安全擦除"右键菜单项。

### 示例：

删除单个文件：
```bash
safadel secret.txt
```

删除整个目录：
```bash
safadel sensitive_folder
```

## 工作原理

1. **文件名安全覆盖**
   - 在删除前对文件名进行3次随机覆盖
   - 保持文件扩展名不变
   - 使用加密级随机数据生成新文件名
   - 目录也进行同样的名称覆盖

2. **DoD 5220.22-M 标准**
   - 第一遍：写入全0
   - 第二遍：写入全1
   - 第三遍：写入随机数据

3. **Gutmann 模式（简化版）**
   - 写入 01010101 模式
   - 写入 10101010 模式
   - 写入 10010010 模式
   - 写入 01001001 模式
   - 写入全0
   - 写入全1
   - 写入随机数据

4. **最终随机覆写**
   - 使用加密级随机数据进行最后一次覆写

5. **目录处理**
   - 自底向上处理目录结构
   - 每个子目录都进行名称覆盖
   - 确保目录结构完整性

## 性能优化

- 使用工作池模式处理文件
- 默认最大并发数为5
- 8KB的写入缓冲区
- 4KB的额外覆写空间
- 智能的目录遍历策略

## 注意事项

1. **不可恢复性**：使用此工具删除的文件和目录名称都是不可恢复的，请谨慎使用
2. **权限要求**：需要对目标文件/目录有读写和重命名权限
3. **处理时间**：大文件和复杂目录结构的处理可能需要较长时间
4. **系统要求**：
   - 操作系统：Windows/Linux/MacOS
   - Go 1.11或更高版本

## 安全建议

1. 确保对要删除的文件有完整备份（如果需要的话）
2. 不要在系统关键目录中使用
3. 删除前仔细确认文件路径
4. 确保文件没有其他程序正在使用

## 许可证

MIT License
